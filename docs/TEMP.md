📋 一、导航菜单架构（建议）
运营管理（新增分类 - 实时监控）
🔄 运营管理
  ├─ 📋 订单监控    （实时订单追踪，默认只显示活跃订单）
  ├─ 👤 技师状态    （在线/忙碌/离线监控，位置追踪）
  ├─ 💬 会话监管    （聊天记录查看，客服介入）
  ├─ 🚨 举报处理    （用户举报，快速响应）
  └─ ⭐ 评论审核    （待审核评论）
业务管理（现有分类 - 基础资料）
💼 业务管理
  ├─ 技师管理      （档案编辑，服务绑定）
  ├─ 媒体管理      （图片/视频审核）
  ├─ 服务管理      （服务项目配置）
  ├─ 用户管理      （客户档案）
  └─ 订单管理      （历史订单查询，用于财务对账）
区分原则：
运营管理 = 实时监控 + 快速响应（高频操作）
业务管理 = 基础配置 + 偶尔修改（低频操作）
📋 二、订单监控设计（核心页面）
页面定位
路径：/dashboard/operations/orders
用途：实时监控进行中的订单，快速发现异常
1. 顶部统计卡片（4个）
┌─────────────┬─────────────┬─────────────┬─────────────┐
│ 待确认      │ 进行中      │ 今日完成    │ 今日取消    │
│    3 单     │   12 单     │   45 单     │    2 单     │
│ 🟡 1单超时  │ 🔴 2单异常  │             │             │
└─────────────┴─────────────┴─────────────┴─────────────┘
2. 订单列表（轻量化设计）
建议列字段（9列，紧凑布局）：
列名	显示内容	宽度	说明
订单号	ORD-241120-0001	140px	可点击查看详情
状态	Badge 徽章	100px	待确认/已确认/在路上/已到达/服务中
技师	头像(24px) + #1001 张三	150px	紧凑显示
客户	用户名 / 手机后4位	120px	简化隐私
服务	泰式按摩 · 90分钟	150px	中文名 + 时长
金额	₿1,200	80px	右对齐
下单时间	2分钟前 / 14:30	100px	相对时间优先
进度信息	预计到达 14:45	150px	动态显示
操作	详情 / 介入	100px	最多2个快捷操作
进度信息列（智能显示，根据状态变化）：
pending: 等待确认（红色提示如超时）
confirmed: 技师已确认
en_route: 预计到达 14:45（15分钟后）
arrived: 已到达现场
in_service: 已服务 45/90 分钟（进度条）
completed: 已完成
cancelled: 已取消（显示原因）
3. 筛选条件（5个，轻量化）
┌────────────────────────────────────────────────────────┐
│ 🔍 搜索订单号/技师/客户  │ 状态 ▼ │ 时间 ▼ │ 仅异常 ☑ │ 重置 │
└────────────────────────────────────────────────────────┘
状态筛选（多选 Checkbox）：待确认 / 进行中 / 已完成 / 已取消
时间范围：今日（默认）/ 近3天 / 近7天 / 自定义
仅异常订单：Checkbox 开关
搜索框：支持订单号、技师名、客户名
4. 异常检测逻辑（自动标记）
异常类型	检测条件	标记
确认超时	pending 状态超过 10 分钟	🔴 红色 Badge
技师离线	confirmed 但技师状态为 offline	🟡 黄色提示
到达延迟	en_route 超过 estimated_arrival_at + 30分钟	🟡 黄色提示
服务超时	in_service 超过 service_duration + 30分钟	🟡 黄色提示
5. 操作设计
查看详情：Drawer 侧边栏（不跳转页面），显示完整订单信息
客服介入：弹出对话框，记录处理日志，可选操作：联系客户/联系技师/取消订单
取消订单：需填写取消原因，自动记录到 order_cancellations
6. 实时更新
使用 Supabase Realtime 订阅 orders 表变化
每 30 秒轮询一次（fallback）
新订单/异常订单 Toast 提示
👤 三、技师状态监控设计
页面定位
路径：/dashboard/operations/therapists
用途：实时监控技师在线状态、位置、排队情况
1. 顶部统计卡片（4个）
┌─────────────┬─────────────┬─────────────┬─────────────┐
│ 🟢 在线     │ 🔴 忙碌     │ ⚪ 离线     │ 今日上线率  │
│   18 人     │   12 人     │   45 人     │    72%      │
└─────────────┴─────────────┴─────────────┴─────────────┘
2. 技师列表（轻量化设计）
建议列字段（9列）：
列名	显示内容	宽度	说明
技师	头像(32px) + #1001 张三	150px	紧凑显示
状态	🟢 在线 / 🔴 忙碌 / ⚪ 离线	80px	醒目的状态点
城市	曼谷	80px	
当前位置	距基地 2.3km	100px	仅在线时显示
当前订单	#ORD-0001（服务中）	140px	仅忙碌时显示，可点击
排队	2 单	60px	queue 中的订单数
下次可用	16:30（1小时后）	130px	next_available_time
今日在线	3.5h	80px	从 girl_work_sessions 统计
最后心跳	2分钟前	90px	last_seen_at，超5分钟标红
3. 筛选条件
┌────────────────────────────────────────────────────┐
│ 🔍 搜索工号/姓名  │ 状态 ▼ │ 城市 ▼ │ 仅异常 ☑ │ 重置 │
└────────────────────────────────────────────────────┘
4. 异常检测
异常类型	检测条件	标记
心跳超时	last_seen_at 超过 5 分钟	🟡 标记"可能离线"
长时间在线	单次在线超过 12 小时	🟡 提示休息
异常状态	有排队订单但状态为 offline	🔴 异常
5. 视图切换（可选）
列表视图（默认）：表格形式
地图视图（Phase 2）：在地图上显示技师位置
💬 四、会话监管设计
页面定位
路径：/dashboard/operations/chats
用途：监控客户-技师聊天，处理投诉，客服介入
1. 统计卡片
┌─────────────┬─────────────┬─────────────┐
│ 活跃会话    │ 今日新增    │ 已锁定会话  │
│   23 个     │   8 个      │   1 个      │
└─────────────┴─────────────┴─────────────┘
2. 会话列表
建议列字段（8列）：
列名	显示内容	宽度	说明
类型	客户↔技师	100px	Badge 标识
参与者	客户名 ↔ 技师名	180px	双向箭头
关联订单	#ORD-0001	120px	如果有，可点击
最后消息	"我到了..."	200px	最多 30 字，超出省略
最后时间	2分钟前	100px	相对时间
未读数	客户 2 / 技师 0	120px	双方未读
状态	🔒 已锁定 / 🔓 正常	80px	is_locked
操作	查看 / 锁定	100px	快捷操作
3. 筛选条件
┌───────────────────────────────────────────────┐
│ 类型 ▼ │ 仅活跃 ☑ │ 有订单 ☑ │ 🔍 搜索参与者 │
└───────────────────────────────────────────────┘
4. 操作设计
查看对话：Drawer 展示完整聊天记录
锁定会话：禁止双方继续发言（异常情况）
临时解锁：设置解锁时间（如 30 分钟）
🚨 五、举报处理设计
页面定位
路径：/dashboard/operations/reports
建议列字段（8列）：
列名	显示内容	宽度
举报人	技师/客户 + 名称	120px
被举报人	名称	100px
类型	骚扰 / 垃圾消息 / 恶意下单	120px
描述	"一直发垃圾消息..."	200px
截图	缩略图（1/3）	80px
关联订单	#ORD-0001	110px
提交时间	5分钟前	100px
操作	查看 / 标记已处理	120px
⭐ 六、评论审核设计（简要）
建议放在运营管理下，因为需要快速响应。
建议列字段（8列）：
订单号 / 评论者 / 技师 / 评分 / 评论内容（摘要）/ 时间 / 状态 / 操作
🎯 总结：轻量化设计原则
1. 列数控制
每个列表控制在 8-10 列以内
移动端自动隐藏次要列（响应式）
2. 时间显示
优先相对时间："2分钟前"、"1小时前"
超过 24 小时显示绝对时间："11-19 14:30"
3. 状态标识
使用醒目的 Badge 组件 和 颜色编码
🟢 绿色 = 正常，🟡 黄色 = 警告，🔴 红色 = 异常
4. 操作便捷
快捷操作直接在列表（查看详情、标记已处理）
详情使用 Drawer 侧边栏（不跳转页面，减少上下文切换）
避免批量操作（防止误操作）
5. 默认筛选
订单监控：默认只显示 今日 + 进行中 + 异常订单
技师状态：默认显示 在线 + 忙碌
会话监管：默认显示 24小时内活跃会话
6. 实时更新
关键数据使用 Supabase Realtime 订阅
非关键数据 30-60 秒轮询
异常状态主动 Toast 提示
📊 技术实现建议
权限控制：
运营/客服/审核角色统一为 support
使用 requireAdmin(['support']) 验证
数据查询优化：
订单监控：只查询今日 + 活跃状态（减少数据量）
技师状态：直接查询 girls_status 表（已分离，查询快）
使用索引：created_at DESC、status
组件复用：
统一的 Table 组件
统一的 Drawer 详情组件
统一的筛选组件